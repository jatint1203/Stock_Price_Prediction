{% extends 'base.html' %}

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">



{% block head %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<style>
    h1 {
        font-size: 29px;
        margin: 30px;
    }

    #main_div {
        border: 1px solid rgb(129, 15, 15);


    }

    .show_data {

        background: rgb(238, 74, 9);
        margin: 6px;


    }

    .graph_maker {

        background: rgb(228, 233, 226);
        margin: 10px;

    }
</style>
{% endblock head %}

{% block title %} Stock_info {% endblock title %}

{% block body %}

<div class="containers">
<span>
    <i class="fa fa-file" style="font-size:60px;color:lightblue;text-shadow:2px 2px 4px #000000; float: 80%" ></i>
    <h1 id="stock_specific"> assadsadsadass casdsa</h1>
    
</span>
    <div id="main_div">

        <div class="show_data" style="width: 49%; height: 210px; background-color: rgb(217, 216, 231); float:left;">-
            {% for p in equity_data %}
            <h3> Stock Summary Date : {{p.date}}</h3>
            <h5>
                <tr>

                    <td>Open : {{ p.open }}</td>
                    <td>Close : {{ p.close }}</td>
                    <td>high : {{ p.high }}</td>
                </tr>
                <br>

                <tr>
                    <td>Low : {{ p.low }}</td>
                    <td>Volume : {{ p.volume }}</td>
                </tr>


            </h5>
            {% endfor %}
        </div>


        <div class="show_data" style="width: 48%; height: 210px; background-color: rgb(220, 236, 221); float:right;">
        </div>


        <div class="show_data" style="width: 98%; height: 320px; background-color: rgb(30, 21, 158); clear:both">-
        </div>


    </div>

    <div class="graph_maker">
        <div class="show_data" style="width: 49%; height: 410px; background-color: rgb(217, 181, 235); float:left;">

            <img src="static\img\Graph_images\closed_graph.png" alt="Stock Price Summury" width="98%" height="410px">

        </div>

        <div class="show_data" style="width: 49%; height: 410px; background-color: rgb(30, 21, 158); float:right;">

            <img src="static\img\Graph_images\volume_graph.png" alt="Stock Price Summury" width="98%" height="410px">
        </div>

        <div class="show_data"
            style="width: 98%; height: 420px; margin:5px; background-color :  rgb(30, 21, 158); clear:both">

        </div>




        <!-- <h1>

            {% for p in equity_data %}
            <tr>
                <td>{{ p.date }}</td>

                <td>{{ p.open }}</td>
                <td>{{ p.high }}</td>
                <td>{{ p.low }}</td>
                <td>{{ p.close }}</td>
                <td>{{ p.volume }}</td>
                

                <button onclick="myFunction('{{p.closed_data}}')" value="{{p.closed_data}}">Try</button>


            </tr>
            {% endfor %}
           
        </h1> -->



      
       
    </div>


    <script>
        console.log(window.location.href) //#THis gives DOmain name of website
        var url = new URL(window.location.href);

        // It searches a in URL and replaces - with spaces
        var company_name = (url.searchParams.get("a")).replace(/-/g, " ");
        var company_code = (url.searchParams.get("b"))

        document.getElementById("stock_specific").innerHTML = "" + company_name + " - " + company_code + "";
        var data1;
        function myFunction(data) {
            data1 = data
        }



        console.log(data1)

        console.log(document.getElementById("all").value)



    </script>


    {% endblock body %}